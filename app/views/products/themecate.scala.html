<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="telephone=no" name="format-detection">
    <link rel="stylesheet" href="/assets/stylesheets/global.css">
    <link rel="stylesheet" href="/assets/stylesheets/hp.css">
    <script src="/assets/javascripts/jquery/jquery-1.9.1.min.js"></script>


</head>
<body>
<header class="head">
    <a href="/" class="back"></a>
    <h1>礼物</h1>
    <a href="/cart" class="shopp">
        <span class="cart_num" id="cartAmountSpan"><i>0</i></span>
    </a>
</header>

<div id="container" class="order">
    <ul class="col" id="col-bottom">

        <li>
            <a href="https://m.kakaogift.cn/hp3/M">
                <img src="/assets/images/slide_banners/2.jpg">
            </a>

        </li>
    </ul>
</div>

<script type="text/javascript">

    $(function(){

        //url data function dataType

        function loadMeinv(){

            var data = 0;

            for(var i=0;i<3;i++){//每次加载时模拟随机加载图片

                data = parseInt(Math.random()*3);

                var html = "";

                html = '<li>'+'<a href="">'+'<img src="/assets/images/slide_banners/'+data+'.jpg">'+'</a>'+'</li>';
                $minUl = getMinUl();

                $minUl.append(html);

            }

        }

        loadMeinv();

        $(window).on("scroll",function(){

            $minUl = getMinUl();

            if($minUl.height() <= $(window).scrollTop()+$(window).height()){

                //当最短的ul的高度比窗口滚出去的高度+浏览器高度大时加载新图片

                loadMeinv();

            }

        })

        function getMinUl(){//每次获取最短的ul,将图片放到其后

            var $arrUl = $("#container .col");

            var $minUl =$arrUl.eq(0);

            $arrUl.each(function(index,elem){

                if($(elem).height()<$minUl.height()){

                    $minUl = $(elem);

                }

            });

            return $minUl;

        }

    })

</script>
</body>
</html>